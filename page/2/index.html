<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>我就是马云飞</title><meta name="author" content="马云飞"><meta name="copyright" content="马云飞"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="三十年河东，三十年河西，莫欺少年穷。 微信公众号：码农职场">
<meta property="og:type" content="website">
<meta property="og:title" content="我就是马云飞">
<meta property="og:url" content="http://silencedev.cn/page/2/index.html">
<meta property="og:site_name" content="我就是马云飞">
<meta property="og:description" content="三十年河东，三十年河西，莫欺少年穷。 微信公众号：码农职场">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://silencedev.cn/images/icon.jpg">
<meta property="article:author" content="马云飞">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://silencedev.cn/images/icon.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://silencedev.cn/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":false,"highlightLang":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-06-18 23:39:11'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/images/icon.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/images/background_img.jpeg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">我就是马云飞</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">我就是马云飞</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/sw950729" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:silencedev@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/conclusion/2020/" title="2020年度总结">     <img class="post_bg" src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fdpic.tiankong.com%2F9x%2Fk5%2FQJ9127610324.jpg&amp;refer=http%3A%2F%2Fdpic.tiankong.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1614964534&amp;t=b4af3a14c09fb090c3c3d881e75dc66e" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2020年度总结"></a></div><div class="recent-post-info"><a class="article-title" href="/conclusion/2020/" title="2020年度总结">2020年度总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-26T14:08:20.626Z" title="发表于 2021-01-26 22:08:20">2021-01-26</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BA%BA%E7%94%9F/">人生</a></span></div><div class="content">前言不知不觉又到了写年度总结的时候，细翻了下，去年我居然没去写年度总结，想了想，可能当时也的确没什么总结的，可能就算有也不知道咋写吧。当然了这都是借口，不过现在就总结下2020的内容吧。
工作今年工作对比19年来说，相对来说轻松一点，19年除了相关业务开发。因为是新项目所以我还负责管理android小组，虽然总共没几个人。不过要对接PMO，PM，QA等等。在这情况下，还需要负责业务开发，往往忙的只有晚上才能开始写代码。而今年除了业务的开发，其他的到没啥，所以我更注重于自我的成长，以及在团队内部推动相关技术，进行落地。
不过对比上面这些，可能还需要在团队中给自己定位。比如领导对我说的一句话：“你工作很辛苦，也很努力，工时也是团队中最多的，不过做东西都是缩起来，其他同事也不知道你在干嘛。东西做完了，别人认可你做的内容么，有没有和同事讨论你这套东西是不是最实用的，能不能再浓缩一下”。
后来自己想想，的确之前一个技术方案的确定—落地—实施。好像都是自己一个人去进行的。于是后面我就改变了思路，从草稿—沟通确定方案—落地任务细分到人—实施。对比之前的，相对自己会轻松很多，而且团队成员也知道我要做什 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/gradle/task/" title="Gradle核心之Task">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/gradle.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Gradle核心之Task"></a></div><div class="recent-post-info"><a class="article-title" href="/gradle/task/" title="Gradle核心之Task">Gradle核心之Task</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-25T13:46:18.261Z" title="发表于 2021-01-25 21:46:18">2021-01-25</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Gradle/">Gradle</a></span></div><div class="content">前言gradle命令最终是通过task去执行的，可见task在gradle中的重要性。
Task的定义与配置task的定义有两种形式，一个是直接通过task函数去创建，另一个是通过task的create方法去创建，示例代码如下：
1234567task test1Task&#123;    println(&quot;test1Task&quot;)&#125;tasks.create(name:&#x27;test2Task&#x27;)&#123;    println(&quot;test2Task&quot;)&#125;
刚刚我们为task指定了一个name。我们可以看看除了name我们还可以指定什么，我们打开Task的源代码，如下：
1234567891011121314151617181920212223public interface Task extends Comparable&lt;Task&gt;, ExtensionAware &#123;    String TASK_NAME = &quot;name&quot;;    String TASK_DESCR ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/gradle/project/" title="Gradle核心之Project">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/gradle.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Gradle核心之Project"></a></div><div class="recent-post-info"><a class="article-title" href="/gradle/project/" title="Gradle核心之Project">Gradle核心之Project</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-23T09:45:28.187Z" title="发表于 2021-01-23 17:45:28">2021-01-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Gradle/">Gradle</a></span></div><div class="content">前言project在gradle里起到里重要的作用，上节我们也说过可以通过./gradlew projects打印当前项目下所有的project，准确的说是有build.gradle的文件既是一个project。而有多少project取决于在setting.gradle文件中设置了多少个。一个project对应一个输出，而具体输出什么取决于build.gradle里面的内容。
Project核心API每个工程下都有一个build.gradle文件。根目录的build.gradle可以管理子工程下面的build.gradle。下面具体看下project相关api。
getAllProjects()我们可以通过getAllprojects打印出所有的project，可以理解成和./gradlew projects命令一样。示例带入如下：
1234567getAllprojects().eachWithIndex &#123; Project entry, int i -&gt;    if (i == 0) &#123;        println(&quot;RootProject-- ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/gradle/lifecycle/" title="Gradle简介及生命周期">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/gradle.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Gradle简介及生命周期"></a></div><div class="recent-post-info"><a class="article-title" href="/gradle/lifecycle/" title="Gradle简介及生命周期">Gradle简介及生命周期</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-23T09:44:55.049Z" title="发表于 2021-01-23 17:44:55">2021-01-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Gradle/">Gradle</a></span></div><div class="content">Gradle简介gradle主要是由三个部分组成。

groovy 核心语法：包括 groovy 基本语法、闭包、数据结构、面向对象等等。前面我们已经介绍过了。
Android DSL（build scrpit block）：Android 插件在 Gradle 所特有的东西，我们可以在不同的 build scrpit block 中去做不同的事情。
Gradle api：包括task，projects，setting等等。

具体如下图：
Gradle优势
灵活性：相对于 Maven、Ant 等构建工具，Gradle 提供了一系列的 API 让我们有能力去修改或定制项目的构建过程。
粒度性：源码的编译，资源的编译，都是一个一个Task的，我们可以修改task来达到精细控制上。
扩展性：Gradle 支持插件机制，所以我们可以复用这些插件，就如同复用库一样简单方便。
兼容性：Gradle 不仅自身功能强大，而且它还能兼容所有的Maven、Ant功能，也就是说，Gradle 吸取了所有构建工具的长处。

Gradle生命周期gradle的生命周期主要是如下三个部分：

初始化阶段: 解析 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/gradle/meta_programming/" title="Gradle入门之Groovy元编程">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/gradle.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Gradle入门之Groovy元编程"></a></div><div class="recent-post-info"><a class="article-title" href="/gradle/meta_programming/" title="Gradle入门之Groovy元编程">Gradle入门之Groovy元编程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-14T12:53:08.946Z" title="发表于 2021-01-14 20:53:08">2021-01-14</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Gradle/">Gradle</a></span></div><div class="content">简介Groovy的元编程是指groovy运行时，可以理解成编写代码所执行的时期，也就是Runtime。在比如有解释执行的Js,编译执行的java，还有运行时期执行的代码java反射。  
Groovy运行时的处理逻辑如下图：
元编程按照上图所示，我们可以自己写一个Demo，示例代码如下：
1234567891011121314151617181920212223class Study &#123;    public static void main(String[] args) &#123;        def person = new Personal(name: &quot;Silence&quot;, age: 26)        println(person.printName())        println(person.printAge())        println(person.sex)    &#125;&#125;class Personal &#123;    public String name    public int age    publi ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/gradle/groovy_grammar/" title="Gradle入门之Groovy语法">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/gradle.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Gradle入门之Groovy语法"></a></div><div class="recent-post-info"><a class="article-title" href="/gradle/groovy_grammar/" title="Gradle入门之Groovy语法">Gradle入门之Groovy语法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-13T14:10:04.152Z" title="发表于 2021-01-13 22:10:04">2021-01-13</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Gradle/">Gradle</a></span></div><div class="content">前言gradle是一个基于JVM的构建工具，它结合了Python、Ruby和Smalltalk的许多强大的特性，Groovy 代码能够与Java代码很好地结合，也能用于扩展现有代码。由于其运行在 JVM 上的特性，Groovy可以使用其他Java语言编写的库。目前已经应用在多数Android技术体系中，比如，jenkins，插件化，组件化，模块化等等。如果你不了解gradle，那么前面几个技术点很难深入理解。  
Groovy 的语法跟 kotlin 类似，如果我们有 kotlin 的经验的话那么学习 groovy 会容易很多。下面我们一起来学习下groovy的核心语法，大家可以跟着样例敲一下加深理解、记忆。
基本特点
构建在强大的Java语言之上 并 添加了从Python，Ruby和Smalltalk等语言中学到的 诸多特征，例如动态类型转换、闭包和元编程（metaprogramming）支持。
为Java开发者提供了 现代最流行的编程语言特性，而且学习成本很低（几乎为零）。
支持DSL（Domain Specific Languages领域定义语言）和其它简洁的语法，让代码变得易于 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/gradle/environment/" title="Gradle入门以及环境搭建">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/gradle.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Gradle入门以及环境搭建"></a></div><div class="recent-post-info"><a class="article-title" href="/gradle/environment/" title="Gradle入门以及环境搭建">Gradle入门以及环境搭建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-13T14:09:39.889Z" title="发表于 2021-01-13 22:09:39">2021-01-13</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Gradle/">Gradle</a></span></div><div class="content">前言gradle目前主要是在项目构建的时候使用，如果我们需要了解gradle。首先需要熟悉grooy的语法，本节来搭建groovy的环境，为了后续学习准备。
Groovy环境搭建groovy SDK下载
官网下载，直接解压，然后目录选择groovy/libexec。
brew安装的groovy目录选择/usr/local/opt/groovy/libexec。（另外，在idea中无法切到/user目录下，mac按Cmd + Shift + G来切换目录）

环境变量配置使用sudo vim ~/.bash_profile打开编辑环境变量文本。在末尾加上export GROOVY_HOME=/usr/local/opt/groovy/libexec。然后esc+:wq进行保存
gradle项目在idea中新建一个groovy项目。如下：
创建好项目后，我们新建一个 groovy 文件，并添加 hello world 的代码如下：能够正常输出 hello world，收工！
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/jvm/gc/" title="GC回收机制">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/202206182315160.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="GC回收机制"></a></div><div class="recent-post-info"><a class="article-title" href="/jvm/gc/" title="GC回收机制">GC回收机制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-05T15:33:10.497Z" title="发表于 2021-01-05 23:33:10">2021-01-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/JVM/">JVM</a></span></div><div class="content">为什么需要GC？如果不进行垃圾回收，内存耗空是迟早的。因为我们在不断的进行内存分配，而不进行垃圾回收。除非内存足够大，可以让我们随意分配内存。但事实并非如此。
什么是垃圾？所谓垃圾就是指内存中已经没用的对象。那么我们如何找到这些没用的对象。JVM中使用一种叫做可行性分析的算法来决定对象是否要被回收。
可行性分析这个算法的思想是通过一系列称为“GCRoot”的对象作为起始点，从这些节点向下搜索，搜索所走过的路径称为引用链，当一个对象到GCRoot没有任何引用链（即GCRoots到对象不可达）时，则证明此对象是不可用的。  
  
如上图所示，对象A、B、C、D、E与GCRoot之间都存在一条直接或者间接的引用链，这也代表它们与 GC Root之间是可达的，因此它们是不能被GC回收掉的。而对象M和K虽然被对J 引用到，但是并不存在一条引用链连接它们与GCRoot，所以当GC进行垃圾回收时，只要遍历到 J、K、M 这 3 个对象，就会将它们回收。

注意：上图中圆形图标虽然标记的是对象，但实际上代表的是此对象在内存中的引用。包括 GC Root 也是一组引用而并非对象。‘

什么是GCRoo ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/jvm/classinit/" title="Class初始化过程">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/202206182312604.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Class初始化过程"></a></div><div class="recent-post-info"><a class="article-title" href="/jvm/classinit/" title="Class初始化过程">Class初始化过程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-05T15:32:25.780Z" title="发表于 2021-01-05 23:32:25">2021-01-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/JVM/">JVM</a></span></div><div class="content">概述一个 class 文件被加载到内存中需要经过三大步：装载、链接、初始化。其中链接又可以细分为：验证、准备、解析三小步。如图所示：

装载装载是指JVM找到class文件生成字节流，然后根据字节流创建java.lang.Class对象的过程。  
过程如下：

ClassLoader通过一个类的包名+类型来查找.class文件。并生成二进制字节流。  

把class文件解析为JVM内部的数据结构，并存储在方法区。（这种解析类似json文件解析成运行时的bean类）

在内存中创建一个java.lang.Class类型的对象。


加载时机
隐式装载：在程序运行过程中，当碰到通过new等方式生成对象时，系统会隐式调用ClassLoader去装载对应的class到内存中。

显示装载：在编写源代码时，主动调用Class.forName()等方法也会进行class装载操作，这种方式通常称为显示装载。


链接链接过程分为 3 步：验证、准备、解析。
验证验证是链接的第一步，目的是为了确保.class文件的字节流中包含的信息符合当前虚拟机的要求，并且不会危及虚拟机本身的安全。主要包含以下几 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/jvm/jmm/" title="Java JMM内存模型">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/202206182316810.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java JMM内存模型"></a></div><div class="recent-post-info"><a class="article-title" href="/jvm/jmm/" title="Java JMM内存模型">Java JMM内存模型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-05T15:31:45.599Z" title="发表于 2021-01-05 23:31:45">2021-01-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/JVM/">JVM</a></span></div><div class="content">java内存划分JMM规定了内存主要划分为主内存和工作内存两种。此处的主内存和工作内存跟JVM内存划分（堆、栈、方法区）是在不同的层次上进行的，如果非要对应起来，主内存对应的是Java堆中的对象实例部分，工作内存对应的是栈中的部分区域，从更底层的来说，主内存对应的是硬件的物理内存，工作内存对应的是寄存器和高速缓存。具体如图所示： 

正常情况下，java中所有的数据都是放在主存中的，如图所示：

随着 CPU 技术的发展，CPU的执行速度越来越快，但内存的技术并没有太大的变化,如果JAVA线程每次读取和写入变量都直接操作主内存，对性能影响比较大，所以每条线程拥有各自的工作内存，工作内存中的变量是主内存中的一份拷贝，线程对变量的读取和写入，直接在工作内存中操作，而不能直接去操作主内存中的变量。
因此，为了“压榨”处理性能，达到“高并发”的效果，在CPU中添加了高速缓存（cache）来作为缓冲。

但是这样就会出现一个问题，当一个线程修改了自己工作内存中变量，对其他线程是不可见的，会导致线程不安全的问题。也就是缓存一致性的问题。
缓存一致性现在市面上的手机通常有两个或者多个CPU，其中一些 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/images/icon.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">马云飞</div><div class="author-info__description">三十年河东，三十年河西，莫欺少年穷。<br> 微信公众号：码农职场</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/sw950729"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/sw950729" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:silencedev@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">Jetpack系列正在更新中...</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/android/okhttp/" title="OkHttp源码分析"><img src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/20210410175110.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OkHttp源码分析"/></a><div class="content"><a class="title" href="/android/okhttp/" title="OkHttp源码分析">OkHttp源码分析</a><time datetime="2021-04-10T09:44:48.037Z" title="发表于 2021-04-10 17:44:48">2021-04-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/jetpack/navigation_use/" title="Android Jetpack导航组件——Navigation的使用"><img src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/20210309234221.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Android Jetpack导航组件——Navigation的使用"/></a><div class="content"><a class="title" href="/jetpack/navigation_use/" title="Android Jetpack导航组件——Navigation的使用">Android Jetpack导航组件——Navigation的使用</a><time datetime="2021-03-09T15:37:56.088Z" title="发表于 2021-03-09 23:37:56">2021-03-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/jetpack/livedata_theory/" title="Android Jetpack架构组件——LiveData原理篇"><img src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/20210301233422.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Android Jetpack架构组件——LiveData原理篇"/></a><div class="content"><a class="title" href="/jetpack/livedata_theory/" title="Android Jetpack架构组件——LiveData原理篇">Android Jetpack架构组件——LiveData原理篇</a><time datetime="2021-03-01T15:30:29.789Z" title="发表于 2021-03-01 23:30:29">2021-03-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/jetpack/livedata_use/" title="Android Jetpack架构组件——LiveData使用篇"><img src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/20210227122637.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Android Jetpack架构组件——LiveData使用篇"/></a><div class="content"><a class="title" href="/jetpack/livedata_use/" title="Android Jetpack架构组件——LiveData使用篇">Android Jetpack架构组件——LiveData使用篇</a><time datetime="2021-02-27T04:19:43.508Z" title="发表于 2021-02-27 12:19:43">2021-02-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/jetpack/viewmodel_use_with_theory/" title="Android Jetpack架构组件——一文带你了解ViewModel的使用及原理"><img src="https://cdn.jsdelivr.net/gh/sw950729/img_cdn/img/20210223205046.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Android Jetpack架构组件——一文带你了解ViewModel的使用及原理"/></a><div class="content"><a class="title" href="/jetpack/viewmodel_use_with_theory/" title="Android Jetpack架构组件——一文带你了解ViewModel的使用及原理">Android Jetpack架构组件——一文带你了解ViewModel的使用及原理</a><time datetime="2021-02-23T12:38:00.580Z" title="发表于 2021-02-23 20:38:00">2021-02-23</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Gradle/"><span class="card-category-list-name">Gradle</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JVM/"><span class="card-category-list-name">JVM</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Jetpack/"><span class="card-category-list-name">Jetpack</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/android/"><span class="card-category-list-name">android</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/http/"><span class="card-category-list-name">http</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E4%BA%BA%E7%94%9F/"><span class="card-category-list-name">人生</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><span class="card-category-list-name">数据结构与算法</span><span class="card-category-list-count">7</span></a></li>
            </ul></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">三月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">一月 2021</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/06/"><span class="card-archive-list-date">六月 2020</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2018/10/"><span class="card-archive-list-date">十月 2018</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2018/08/"><span class="card-archive-list-date">八月 2018</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2018/07/"><span class="card-archive-list-date">七月 2018</span><span class="card-archive-list-count">7</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">43</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2017-11-19T15:00:23.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">81.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-06-18T15:39:11.375Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 马云飞</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "坚持做自己懒得做但是正确的事情，你就能得到别人想得到却得不到的东西。".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '坚持做自己懒得做但是正确的事情，你就能得到别人想得到却得不到的东西。'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true}});</script></body></html>